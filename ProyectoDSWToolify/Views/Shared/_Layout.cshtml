@{
	var usuario = Context.Session.GetString("usuario");
}

<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="utf-8" />
	<meta name="viewport" content="width=device-width, initial-scale=1.0" />
	<title>@ViewData["Title"] - ProyectoDSWToolify</title>
	<link rel="stylesheet" href="~/lib/bootstrap/dist/css/bootstrap.min.css" />
	<link rel="stylesheet" href="~/css/site.css" asp-append-version="true" />
	<link rel="stylesheet" href="~/ProyectoDSWToolify.styles.css" asp-append-version="true" />
	<!-- Colocando LINK para alerta CSS -->
	<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/izitoast/dist/css/iziToast.min.css">
	<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.11.3/font/bootstrap-icons.css">
	<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css" />
	<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet" />

</head>
<body>
	<div class="d-flex flex-column min-vh-100">
		<!-- Navbar -->
		<header class="navbar navbar-expand-md fixed-top bg-white shadow-sm border-bottom">
			<div class="container">
				<a class="navbar-brand fw-bold logo" asp-controller="Cliente" asp-action="Index">Toolify</a>

				<!-- Botón carrito móvil -->
				<button class="btn btn-personalizado position-relative d-md-none ms-3" type="button"
						data-bs-toggle="offcanvas" data-bs-target="#offcanvasCarrito" aria-controls="offcanvasCarrito"
						style="left: 8.5rem !important;">
					<svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" fill="none" stroke="currentColor"
						 stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="bi bi-cart" viewBox="0 0 24 24">
						<circle cx="8" cy="21" r="1" />
						<circle cx="19" cy="21" r="1" />
						<path d="M2.05 2.05h2l2.66 12.42a2 2 0 0 0 2 1.58h9.78a2 2 0 0 0 1.95-1.57l1.65-7.43H5.12" />
					</svg>
					<span class="position-absolute top-counter translate-middle badge rounded-pill bg-color-primary">
						0
					</span>
				</button>

				<!-- Menú hamburguesa -->
				<button class="navbar-toggler" type="button" data-bs-toggle="offcanvas" data-bs-target="#offcanvasMenu"
						aria-controls="offcanvasMenu" aria-label="Toggle navigation">
					<svg xmlns="http://www.w3.org/2000/svg" width="28" height="28" fill="none" stroke="currentColor"
						 stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="bi bi-list" viewBox="0 0 24 24">
						<path d="M4 6h16M4 12h16M4 18h16" />
					</svg>
				</button>

				<!-- Menú escritorio -->
				<div class="collapse navbar-collapse justify-content-between d-none d-md-flex">
					<ul class="navbar-nav mx-auto mb-2 mb-md-0 gap-3">
						<li class="nav-item"><a class="nav-link fw-medium text-secondary" asp-controller="Cliente" asp-action="Index">Inicio</a></li>
						<li class="nav-item"><a class="nav-link fw-medium text-secondary" asp-controller="Cliente" asp-action="Producto">Productos</a></li>
						<li class="nav-item"><a class="nav-link fw-medium text-secondary" asp-controller="Cliente" asp-action="Nosotros">Nosotros</a></li>
						<li class="nav-item"><a class="nav-link fw-medium text-secondary" asp-controller="Cliente" asp-action="Contacto">Contacto</a></li>
					</ul>

					<div class="d-flex align-items-center gap-3">
						<div class="dropdown d-none d-sm-inline-block">
							<button class="btn btn-personalizado dropdown-toggle d-flex align-items-center gap-3" type="button" id="dropdownCuenta"
									data-bs-toggle="dropdown" aria-expanded="false">
								<svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="none" stroke="currentColor"
									 stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="bi bi-person"
									 viewBox="0 0 24 24" aria-hidden="true">
									<path d="M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2" />
									<circle cx="12" cy="7" r="4" />
								</svg>
								Cuenta
							</button>

							<ul class="dropdown-menu dropdown-menu-end" aria-labelledby="dropdownCuenta">
								<li>
									<a class="dropdown-item d-flex align-items-center gap-2" asp-controller="Cliente" asp-action="Perfil">
										<svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="none" stroke="currentColor"
											 stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="bi bi-person"
											 viewBox="0 0 24 24" aria-hidden="true">
											<path d="M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2" />
											<circle cx="12" cy="7" r="4" />
										</svg>
										Mi perfil
									</a>
								</li>

								<li><hr class="dropdown-divider" /></li>

								@if (!string.IsNullOrEmpty(usuario))
								{
									<li>
										<form asp-controller="UserAuth" asp-action="Logout" method="post">
											<button class="dropdown-item d-flex align-items-center gap-2" type="submit">
												<svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="none" stroke="currentColor"
													 stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="bi bi-box-arrow-right"
													 viewBox="0 0 24 24" aria-hidden="true">
													<path d="M10 17l5-5-5-5" />
													<path d="M15 12H3" />
													<path d="M19 19v-14" />
												</svg>
												Cerrar sesión
											</button>
										</form>
									</li>
								}
							</ul>
						</div>

						<!-- Botón carrito escritorio -->
						<button type="button" class="btn btn-personalizado position-relative" data-bs-toggle="offcanvas"
								data-bs-target="#offcanvasCarrito" aria-controls="offcanvasCarrito">
							<svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" fill="none" stroke="currentColor"
								 stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="bi bi-cart" viewBox="0 0 24 24">
								<circle cx="8" cy="21" r="1" />
								<circle cx="19" cy="21" r="1" />
								<path d="M2.05 2.05h2l2.66 12.42a2 2 0 0 0 2 1.58h9.78a2 2 0 0 0 1.95-1.57l1.65-7.43H5.12" />
							</svg>
							<span class="position-absolute top-counter translate-middle badge rounded-pill bg-color-primary">
								1
							</span>
						</button>
					</div>
				</div>
			</div>
		</header>

		<!-- Offcanvas Menú -->
		<div class="offcanvas offcanvas-end" tabindex="-1" id="offcanvasMenu" aria-labelledby="offcanvasMenuLabel">
			<div class="offcanvas-header">
				<h5 class="fw-bold" id="offcanvasMenuLabel" style="color: #576EAA;">Menú</h5>
				<button type="button" class="btn-close" data-bs-dismiss="offcanvas" aria-label="Cerrar"></button>
			</div>

			<div class="offcanvas-body d-flex flex-column justify-content-between p-0">
				<div class="list-group list-group-flush">
					<a asp-controller="Cliente" asp-action="Index" class="list-group-item list-group-item-action px-3 py-2">
						<i class="fas fa-home me-2"></i>Inicio
					</a>
					<a asp-controller="Cliente" asp-action="Producto" class="list-group-item list-group-item-action px-3 py-2">
						<i class="fas fa-box-open me-2"></i>Productos
					</a>
					<a asp-controller="Cliente" asp-action="Nosotros" class="list-group-item list-group-item-action px-3 py-2">
						<i class="fas fa-users me-2"></i>Nosotros
					</a>
					<a asp-controller="Cliente" asp-action="Contacto" class="list-group-item list-group-item-action px-3 py-2">
						<i class="fas fa-envelope me-2"></i>Contacto
					</a>


					<hr class="my-2" />
					<a asp-controller="Cliente" asp-action="Perfil" class="list-group-item list-group-item-action px-3 py-2">
						<i class="fas fa-user me-2"></i>Mi perfil
					</a>

				</div>

				@if (usuario != null)
				{
					<div class="p-3 border-top">
						<form asp-controller="UserAuth" asp-action="Logout" method="post">
							<button class="btn btn-outline-danger w-100" type="submit">
								<i class="fas fa-sign-out-alt me-2"></i>Cerrar sesión
							</button>
						</form>
					</div>
				}
			</div>
		</div>


		<!-- Offcanvas Carrito -->
		<div class="offcanvas offcanvas-end" tabindex="-1" id="offcanvasCarrito" aria-labelledby="offcanvasCarritoLabel">
			<div class="offcanvas-header border-bottom bg-light">
				<h5 class="offcanvas-title fw-bold text-black d-flex align-items-center gap-2" id="offcanvasCarritoLabel">
					<i class="fas fa-shopping-cart"></i> Carrito de Compras
				</h5>
				<button type="button" class="btn-close" data-bs-dismiss="offcanvas" aria-label="Cerrar"></button>
			</div>

			<div class="offcanvas-body d-flex flex-column justify-content-between p-0">
				<!-- Lista de productos -->
				<div id="carritoProductos" class="list-group overflow-auto">
					<!-- Aquí se cargan los productos con JS -->
				</div>

				<!-- Total y botón -->
				<div class="border-top bg-white p-3">
					<div class="d-flex justify-content-between mb-2">
						<h5 class="fw-semibold text-muted">Productos totales:</h5>
						<h6 id="productosTotales" class="fw-bold fs-5 color-gray-900">0</h6>
					</div>

					<div class="d-flex justify-content-between mb-3">
						<h5 class="fw-semibold">Total:</h5>
						<h6 id="totalCarrito" class="fw-bold fs-5 titulos-Primary">S/. 0.00</h6>
					</div>


					<a href="@Url.Action("FinalizarCompra", "Carro")" class="btn btn-primary-custom d-flex justify-content-center align-items-center w-100">
						<i class="fas fa-credit-card me-2"></i>Finalizar compra
					</a>
				</div>
			</div>
		</div>
		<!-- Contenido principal -->
		<main class="flex-grow-1 pt-5 mt-5">
			@RenderBody()
		</main>

		<!-- Footer -->
		<footer class="bg-gray-900 text-white">
			<div class="container max-w-7xl px-4 py-5">
				<div class="row gy-4 gx-5 text-start">

					<!-- Logo y descripción con redes sociales -->
					<div class="col-12 col-md-6 col-lg-3">
						<div class="fw-bold mb-3 fs-3" style="color: #576EAA;">Toolify</div>
						<p class="text-white mb-4" style="font-size:1.1rem;">
							Tu socio de confianza para herramientas profesionales y soluciones de ferretería. Sirviendo a contratistas y entusiastas del bricolaje desde 1995.
						</p>
						<div class="d-flex justify-content-start gap-3">
							<a href="#" class="text-white fs-5 hover-primary" aria-label="Facebook">
								<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" stroke="currentColor"
									 stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="bi bi-facebook"
									 viewBox="0 0 24 24">
									<path d="M18 2h-3a5 5 0 0 0-5 5v3H7v4h3v8h4v-8h3l1-4h-4V7a1 1 0 0 1 1-1h3z" />
								</svg>
							</a>
							<a href="#" class="text-white fs-5 hover-primary" aria-label="Twitter">
								<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" stroke="currentColor"
									 stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="bi bi-twitter"
									 viewBox="0 0 24 24">
									<path d="M22 4s-.7 2.1-2 3.4c1.6 10-9.4 17.3-18 11.6 2.2.1 4.4-.6 6-2C3 15.5.5 9.6 3 5c2.2 2.6 5.6 4.1 9 4-.9-4.2 4-6.6 7-3.8 1.1 0 3-1.2 3-1.2z" />
								</svg>
							</a>
							<a href="#" class="text-white fs-5 hover-primary" aria-label="Instagram">
								<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" stroke="currentColor"
									 stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="bi bi-instagram"
									 viewBox="0 0 24 24">
									<rect width="20" height="20" x="2" y="2" rx="5" ry="5"></rect>
									<path d="M16 11.37A4 4 0 1 1 12.63 8 4 4 0 0 1 16 11.37z"></path>
									<line x1="17.5" y1="6.5" x2="17.51" y2="6.5"></line>
								</svg>
							</a>
							<a href="#" class="text-white fs-5 hover-primary" aria-label="LinkedIn">
								<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" stroke="currentColor"
									 stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="bi bi-linkedin"
									 viewBox="0 0 24 24">
									<path d="M16 8a6 6 0 0 1 6 6v7h-4v-7a2 2 0 0 0-2-2 2 2 0 0 0-2 2v7h-4v-7a6 6 0 0 1 6-6z" />
									<rect width="4" height="12" x="2" y="9"></rect>
									<circle cx="4" cy="4" r="2"></circle>
								</svg>
							</a>
						</div>
					</div>

					<!-- Enlaces Rápidos -->
					<div class="col-12 col-md-6 col-lg-3">
						<h5 class="fw-semibold mb-3 fs-4">Enlaces Rápidos</h5>
						<ul class="list-unstyled">
							<li>
								<a class="text-white-hover text-decoration-none d-block py-1" asp-controller="Cliente" asp-action="Index">Inicio</a>
							</li>
							<li>
								<a class="text-white-hover text-decoration-none d-block py-1" asp-controller="Cliente" asp-action="Producto">Productos</a>
							</li>
							<li>
								<a class="text-white-hover text-decoration-none d-block py-1" asp-controller="Cliente" asp-action="Nosotros">Nosotros</a>
							</li>
							<li>
								<a class="text-white-hover text-decoration-none d-block py-1" asp-controller="Cliente" asp-action="Contacto">Contacto</a>
							</li>
						</ul>
					</div>

					<!-- Categorías -->
					<div class="col-12 col-md-6 col-lg-3">
						<h5 class="fw-semibold mb-3 fs-4">Categorías</h5>
						<ul class="list-unstyled">
							<li>
								<a class="text-white-hover text-decoration-none d-block py-1" href="@Url.Action("Producto", "Cliente", new { categorias = 4 })">Taladros</a>
							</li>
							<li>
								<a class="text-white-hover text-decoration-none d-block py-1" href="@Url.Action("Producto", "Cliente", new { categorias = 5})">Compresoras</a>
							</li>
							<li>
								<a class="text-white-hover text-decoration-none d-block py-1" href="@Url.Action("Producto", "Cliente", new { categorias = 8})">Tanques de agua</a>
							</li>
							<li>
								<a class="text-white-hover text-decoration-none d-block py-1" href="@Url.Action("Producto", "Cliente", new { categorias = 10})">Pisos cerámicos</a>
							</li>
							<li>
								<a class="text-white-hover text-decoration-none d-block py-1" href="@Url.Action("Producto", "Cliente", new { categorias = 6})">Cables eléctricos</a>
							</li>
						</ul>
					</div>

					<!-- Información de Contacto -->
					<div class="col-12 col-md-6 col-lg-3">
						<h5 class="fw-semibold mb-3 fs-4">Información de Contacto</h5>
						<ul class="list-unstyled d-flex gap-3 flex-column">
							<li class="d-flex align-items-center mb-2">
								<svg xmlns="http://www.w3.org/2000/svg" width="40" height="40" fill="none" stroke="#576EAA"
									 stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="me-2" viewBox="0 0 24 24"
									 aria-hidden="true">
									<path d="M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0"></path>
									<circle cx="12" cy="10" r="3"></circle>
								</svg>
								<span>Calle Industrial 123, Ciudad Herramientas, CH 12345</span>
							</li>
							<li class="d-flex align-items-center mb-2">
								<svg xmlns="http://www.w3.org/2000/svg" width="25" height="25" fill="none" stroke="#576EAA"
									 stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="me-2" viewBox="0 0 24 24"
									 aria-hidden="true">
									<path d="M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z"></path>
								</svg>
								<span>(555) 123-TOOL</span>
							</li>
							<li class="d-flex align-items-center mb-3">
								<svg xmlns="http://www.w3.org/2000/svg" width="25" height="25" fill="none" stroke="#576EAA"
									 stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="me-2" viewBox="0 0 24 24"
									 aria-hidden="true">
									<path d="m22 7-8.991 5.727a2 2 0 0 1-2.009 0L2 7"></path>
									<rect x="2" y="4" width="20" height="16" rx="2"></rect>
								</svg>
								<span>info&#64;toolify.com</span>
							</li>
						</ul>

						<h6 class="fw-semibold fs-4">Horario de Atención</h6>
						<div class="text-white small">
							<div class="d-flex flex-column gap-2">
								<span>Lun-Vie: 7:00 AM - 7:00 PM</span>
								<span>Sábado: 8:00 AM - 6:00 PM</span>
								<span>Domingo: 9:00 AM - 5:00 PM</span>
							</div>
						</div>
					</div>
				</div>

				<hr class="border-secondary my-4" style="border-width: 3px;">

				<div class="d-flex flex-column flex-sm-row justify-content-between align-items-center ">
					<div class="mb-3 mb-sm-0 color-gray-500">© 2025 Ferretería Toolify. Todos los derechos reservados.</div>
					<div class="d-flex gap-4">
						<a href="#" class="text-decoration-none color-gray-500">Política de Privacidad</a>
						<a href="#" class="text-decoration-none color-gray-500">Términos de Servicio</a>
						<a href="#" class="text-decoration-none color-gray-500">Garantía</a>
					</div>
				</div>
			</div>
		</footer>
	</div>
	<script src="~/lib/jquery/dist/jquery.min.js"></script>
	<script src="~/js/site.js" asp-append-version="true"></script>
	<!-- SCRIPT para la Alerta-->
	<!-- Bootstrap JS + Popper -->
	<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"></script>
	<script src="https://cdn.jsdelivr.net/npm/izitoast/dist/js/iziToast.min.js"></script>
	<script src="~/js/layoutCliente.js"></script>
	@Html.Partial("_SweetAlert")
	@await RenderSectionAsync("Scripts", required: false)
</body>
</html>
